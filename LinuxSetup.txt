Caveats:
	•	Colab: limited Python version control and prebuilt packages. You can install d2l via pip install d2l, but it may not always match the notebook’s exact version, and switching Python can break GPU support.
	•	Codespaces: CPU-only, no GPU, so heavy training like train_ch13 will be very slow.

1. Check OS version
Inside a GitHub Codespace, the OS is always Linux, but you can check the exact distro and version with:

@huiminyan2017 ➜ /workspaces/pytorch-basics (main) $ cat /etc/os-release 
PRETTY_NAME="Ubuntu 24.04.3 LTS"
NAME="Ubuntu"
VERSION_ID="24.04"
VERSION="24.04.3 LTS (Noble Numbat)"
VERSION_CODENAME=noble
ID=ubuntu
ID_LIKE=debian
HOME_URL="https://www.ubuntu.com/"
SUPPORT_URL="https://help.ubuntu.com/"
BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"
PRIVACY_POLICY_URL="https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"
UBUNTU_CODENAME=noble
LOGO=ubuntu-logo
@huiminyan2017 ➜ /workspaces/pytorch-basics (main) $ 


2. Check python version?
@huiminyan2017 ➜ /workspaces/pytorch-basics (main) $ ls /usr/bin/python*
/usr/bin/python3  /usr/bin/python3-config  /usr/bin/python3.12  /usr/bin/python3.12-config

3. Prepare to install python3.10(for d2l compatable)
Add the deadsnakes PPA (gives you python 3.10):

sudo apt update
sudo apt install -y software-properties-common
sudo add-apt-repository ppa:deadsnakes/ppa -y
sudo apt update

4. Install Python 3.10 + venv module
sudo apt install -y python3.10 python3.10-venv
python3.10 --version

5. Create a venv using Python 3.10, activate it
python3.10 -m venv .venv310

source .venv310/bin/activate
Your promp will change to something like:
(.venv310) @huiminyan2017 ➜ /workspaces/pytorch-basics (main) $ 

6. Install d2l + PyTorch (compatible versions)
Make sure you already activated to .venv310: source .venv310/bin/activate, so below will be installed in the venv
pip install torch==2.0.0 torchvision==0.15.1
pip install d2l==1.0.3

7. Register the Jupyter Kernel
Make sure you already activated to .venv39: source .venv39/bin/activate, so below will be installed in the venv
pip install ipykernel

python -m ipykernel install --user --name py310 --display-name "Python 3.10 (Codespace)"
Note: Above command will create a Jupyter kernel spec under your user-level Jupyter directory: ~/.local/share/jupyter/kernels/py310/kernel.json
So:
	•	If you run it inside your .venv310 → the kernel points to .venv310/bin/python
	•	If you run it outside the venv → the kernel points to whichever Python ran the command

Why this matters:
A Jupyter kernel is just a config file that tells notebooks: “Use THIS python executable when running cells”.
So the command registers your environment with Jupyter.

8. You can start to run your code in the jupyter notebook, choose venv310 as your kernel.
